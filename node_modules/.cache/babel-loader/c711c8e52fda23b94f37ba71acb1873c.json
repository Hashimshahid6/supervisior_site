{"ast":null,"code":"'use strict';\n\nimport _classCallCheck from \"C:/xampp/htdocs/supervisior_site/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/xampp/htdocs/supervisior_site/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"C:/xampp/htdocs/supervisior_site/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"C:/xampp/htdocs/supervisior_site/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"C:/xampp/htdocs/supervisior_site/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/xampp/htdocs/supervisior_site/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport stream from 'stream';\nimport utils from '../utils.js';\nvar kInternals = Symbol('internals');\n\nvar AxiosTransformStream = /*#__PURE__*/function (_stream$Transform) {\n  _inherits(AxiosTransformStream, _stream$Transform);\n\n  var _super = _createSuper(AxiosTransformStream);\n\n  function AxiosTransformStream(options) {\n    var _this;\n\n    _classCallCheck(this, AxiosTransformStream);\n\n    options = utils.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, function (prop, source) {\n      return !utils.isUndefined(source[prop]);\n    });\n    _this = _super.call(this, {\n      readableHighWaterMark: options.chunkSize\n    });\n    var internals = _this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    _this.on('newListener', function (event) {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(AxiosTransformStream, [{\n    key: \"_read\",\n    value: function _read(size) {\n      var internals = this[kInternals];\n\n      if (internals.onReadCallback) {\n        internals.onReadCallback();\n      }\n\n      return _get(_getPrototypeOf(AxiosTransformStream.prototype), \"_read\", this).call(this, size);\n    }\n  }, {\n    key: \"_transform\",\n    value: function _transform(chunk, encoding, callback) {\n      var _this2 = this;\n\n      var internals = this[kInternals];\n      var maxRate = internals.maxRate;\n      var readableHighWaterMark = this.readableHighWaterMark;\n      var timeWindow = internals.timeWindow;\n      var divider = 1000 / timeWindow;\n      var bytesThreshold = maxRate / divider;\n      var minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n      var pushChunk = function pushChunk(_chunk, _callback) {\n        var bytes = Buffer.byteLength(_chunk);\n        internals.bytesSeen += bytes;\n        internals.bytes += bytes;\n        internals.isCaptured && _this2.emit('progress', internals.bytesSeen);\n\n        if (_this2.push(_chunk)) {\n          process.nextTick(_callback);\n        } else {\n          internals.onReadCallback = function () {\n            internals.onReadCallback = null;\n            process.nextTick(_callback);\n          };\n        }\n      };\n\n      var transformChunk = function transformChunk(_chunk, _callback) {\n        var chunkSize = Buffer.byteLength(_chunk);\n        var chunkRemainder = null;\n        var maxChunkSize = readableHighWaterMark;\n        var bytesLeft;\n        var passed = 0;\n\n        if (maxRate) {\n          var now = Date.now();\n\n          if (!internals.ts || (passed = now - internals.ts) >= timeWindow) {\n            internals.ts = now;\n            bytesLeft = bytesThreshold - internals.bytes;\n            internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n            passed = 0;\n          }\n\n          bytesLeft = bytesThreshold - internals.bytes;\n        }\n\n        if (maxRate) {\n          if (bytesLeft <= 0) {\n            // next time window\n            return setTimeout(function () {\n              _callback(null, _chunk);\n            }, timeWindow - passed);\n          }\n\n          if (bytesLeft < maxChunkSize) {\n            maxChunkSize = bytesLeft;\n          }\n        }\n\n        if (maxChunkSize && chunkSize > maxChunkSize && chunkSize - maxChunkSize > minChunkSize) {\n          chunkRemainder = _chunk.subarray(maxChunkSize);\n          _chunk = _chunk.subarray(0, maxChunkSize);\n        }\n\n        pushChunk(_chunk, chunkRemainder ? function () {\n          process.nextTick(_callback, null, chunkRemainder);\n        } : _callback);\n      };\n\n      transformChunk(chunk, function transformNextChunk(err, _chunk) {\n        if (err) {\n          return callback(err);\n        }\n\n        if (_chunk) {\n          transformChunk(_chunk, transformNextChunk);\n        } else {\n          callback(null);\n        }\n      });\n    }\n  }]);\n\n  return AxiosTransformStream;\n}(stream.Transform);\n\nexport default AxiosTransformStream;","map":{"version":3,"names":["stream","utils","kInternals","Symbol","AxiosTransformStream","options","toFlatObject","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","prop","source","isUndefined","readableHighWaterMark","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","Date","now","bytes","onReadCallback","on","event","size","chunk","encoding","callback","divider","bytesThreshold","Math","max","pushChunk","_chunk","_callback","Buffer","byteLength","emit","push","process","nextTick","transformChunk","chunkRemainder","maxChunkSize","bytesLeft","passed","setTimeout","subarray","transformNextChunk","err","Transform"],"sources":["C:/xampp/htdocs/supervisior_site/node_modules/axios/lib/helpers/AxiosTransformStream.js"],"sourcesContent":["'use strict';\n\nimport stream from 'stream';\nimport utils from '../utils.js';\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream.Transform{\n  constructor(options) {\n    options = utils.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    }\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nexport default AxiosTransformStream;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}