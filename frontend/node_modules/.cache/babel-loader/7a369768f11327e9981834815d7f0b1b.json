{"ast":null,"code":"import _regeneratorRuntime from\"E:/xampp/htdocs/supervisior_site/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/xampp/htdocs/supervisior_site/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/xampp/htdocs/supervisior_site/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useState,useEffect}from'react';import{API_BASE_URL,API_TOKEN}from'../constants.js';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var SettingsContext=/*#__PURE__*/createContext();export var SettingsProvider=function SettingsProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),settings=_useState2[0],setSettings=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];useEffect(function(){var fetchSettings=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:axios.get(API_BASE_URL+\"settings\",{headers:{Authorization:\"Bearer \".concat(API_TOKEN)}})// Laravel API endpoint\n.then(function(response){setSettings(response.data[0]);// Set the fetched data\nsetLoading(false);}).catch(function(error){// setError(error.message);\nsetLoading(false);});case 1:case\"end\":return _context.stop();}}},_callee);}));return function fetchSettings(){return _ref2.apply(this,arguments);};}();fetchSettings();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Show a loader while fetching settings\n}return/*#__PURE__*/_jsx(SettingsContext.Provider,{value:settings,children:children});};export var useSettings=function useSettings(){return React.useContext(SettingsContext);};// Export the Context itself for use in Class Components\nexport default SettingsContext;","map":{"version":3,"names":["React","createContext","useState","useEffect","API_BASE_URL","API_TOKEN","axios","SettingsContext","SettingsProvider","children","settings","setSettings","loading","setLoading","fetchSettings","get","headers","Authorization","then","response","data","catch","error","useSettings","useContext"],"sources":["E:/xampp/htdocs/supervisior_site/frontend/src/contexts/SettingsContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react'\r\nimport {API_BASE_URL, API_TOKEN} from '../constants.js';\r\nimport axios from \"axios\";\r\n\r\nconst SettingsContext = createContext();\r\n\r\nexport const SettingsProvider = ({ children }) => {\r\n  const [settings, setSettings] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchSettings = async () => {\r\n\t\t\taxios\r\n\t\t\t\t.get(API_BASE_URL + \"settings\",{\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\tAuthorization: `Bearer ${API_TOKEN}`\r\n\t\t\t\t\t}\r\n\t\t\t\t}) // Laravel API endpoint\r\n\t\t\t\t.then((response) => {\r\n\t\t\t\t\tsetSettings(response.data[0]); // Set the fetched data\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t// setError(error.message);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t});      \r\n    };\r\n\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return <div>Loading...</div>; // Show a loader while fetching settings\r\n  }\r\n\r\n  return (\r\n    <SettingsContext.Provider value={settings}>\r\n      {children}\r\n    </SettingsContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useSettings = () => React.useContext(SettingsContext);\r\n// Export the Context itself for use in Class Components\r\nexport default SettingsContext;"],"mappings":"6YAAA,MAAOA,MAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CACA,OAAQC,YAAR,CAAsBC,SAAtB,KAAsC,iBAAtC,CACA,MAAOC,MAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,gBAAe,cAAGN,aAAa,EAArC,CAEA,MAAO,IAAMO,iBAAgB,CAAG,QAAnBA,iBAAmB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CAChD,cAAgCP,QAAQ,CAAC,IAAD,CAAxC,wCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAA8BT,QAAQ,CAAC,IAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAEAV,SAAS,CAAC,UAAM,CACd,GAAMW,cAAa,6FAAG,qIACvBR,KAAK,CACHS,GADF,CACMX,YAAY,CAAG,UADrB,CACgC,CAC9BY,OAAO,CAAE,CACRC,aAAa,kBAAYZ,SAAZ,CADL,CADqB,CADhC,CAKI;AALJ,CAMEa,IANF,CAMO,SAACC,QAAD,CAAc,CACnBR,WAAW,CAACQ,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAD,CAAX,CAA+B;AAC/BP,UAAU,CAAC,KAAD,CAAV,CACA,CATF,EAUEQ,KAVF,CAUQ,SAACC,KAAD,CAAW,CACjB;AACAT,UAAU,CAAC,KAAD,CAAV,CACA,CAbF,EADuB,sDAAH,kBAAbC,cAAa,2CAAnB,CAiBAA,aAAa,GACd,CAnBQ,CAmBN,EAnBM,CAAT,CAqBA,GAAIF,OAAJ,CAAa,CACX,mBAAO,mCAAP,CAA8B;AAC/B,CAED,mBACE,KAAC,eAAD,CAAiB,QAAjB,EAA0B,KAAK,CAAEF,QAAjC,UACGD,QADH,EADF,CAKD,CAlCM,CAoCP,MAAO,IAAMc,YAAW,CAAG,QAAdA,YAAc,SAAMvB,MAAK,CAACwB,UAAN,CAAiBjB,eAAjB,CAAN,EAApB,CACP;AACA,cAAeA,gBAAf"},"metadata":{},"sourceType":"module"}